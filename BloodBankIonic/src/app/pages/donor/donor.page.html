<app-header></app-header>

<ion-content [fullscreen]="true">

  <div class="container">
    <div style="margin-top: 10px;">
        <div class="toggle_button font-size-15"> ADD DONOR
          <button type="button" class="btn-2" (click)="openModalDialog()"><ion-icon name="add"></ion-icon></button>
      </div>
    </div>

  <div style="margin-top: 10px;"></div>
  
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Name</th>
        <th>Blood Group</th>
        <th>Date of Registration</th>
        <th>Address</th>
      </tr>
    </thead>
    <tbody *ngFor="let i of GetAllDonorList">
      <tr>
        <td> {{i.name}} </td>
        <td> {{i.blood_group}} </td>
        <td> {{i.date_of_reg}} </td>
        <td> {{i.address}}, {{i.city}} </td>
      </tr>
    </tbody>
  </table>
</div>

  <!------------------------------- Donor Add Modal Open ----------------------------------->
  <div class="modal" id="custom-modal-1" tabindex="-1" role="dialog" [ngStyle]="{'display':display}">
    <div class="modal-dialog" role="document" style="margin-top: 90px;">

      <form [formGroup]="service.donorModel" autocomplete="off" (submit)="onSubmit()">  
        <div class="modal-content box-shadow">

         <div class="modal-header"> Add Donor
            <button type="button" class="close btn-3" aria-label="Close" (click)="closeModalDialog()"><span aria-hidden="true">&times;</span></button>
          </div>
  
        <div class="modal-body">
          <div class="row">
              <div class="col-sm-3 col-xs-3">
                  <label> Name:<span style="color: red;">*</span></label>
              </div>
              <div class="col-sm-9 col-xs-9 mr-b-20">
                  <input type="text" class="form-control" placeholder="Name" formControlName="name"/>
                  <!-- <label class="text-danger" *ngIf="service.formModel.get('name').touched && service.formModel.get('name').errors?.required"> Name is required. </label> -->
              </div>

              <div class="col-sm-3 col-xs-3">
                <label> DOB: <span style="color: red;">*</span></label>
              </div>
              <div class="col-sm-9 col-xs-9 mr-b-20">
                  <input type="text" class="form-control" placeholder="dob" formControlName="dob" />
                  <!-- <input matInput [matDatepicker]="picker" type="text" class="form-control" placeholder="dd/mm/yyyy" formControlName="dob" (focus)="picker.open()" required/> -->
                  <!-- <label class="text-danger" *ngIf="service.formModel.get('dob').touched && service.formModel.get('dob').errors?.required"> DOB is required. </label> -->
              </div>

              <div class="col-sm-3 col-xs-3">
                <label> Registration Date:<span style="color: red;">*</span></label>
            </div>
            <div class="col-sm-9 col-xs-9 mr-b-20">
                <input type="text" class="form-control" placeholder="Date" formControlName="regDate" />
                <!-- <label class="text-danger" *ngIf="service.formModel.get('date_of_reg').touched && service.formModel.get('date_of_reg').errors?.required"> Name is required. </label> -->
            </div>

            <div class="col-sm-3 col-xs-3">
              <label> Blood Group: <span style="color: red;">*</span></label>
            </div>
            <div class="col-sm-9 col-xs-9 mr-b-20">
                <input type="text" class="form-control" placeholder="Blood Group" formControlName="bloodGroup"  />
                <!-- <label class="text-danger" *ngIf="service.formModel.get('blood_group').touched && service.formModel.get('blood_group').errors?.required"> DOB is required. </label> -->
            </div>

          <div class="col-sm-3 col-xs-3">
              <label> Address:<span style="color: red;">*</span></label>
          </div>
          <div class="col-sm-9 col-xs-9 mr-b-20">
              <input type="text" class="form-control" placeholder="Address" formControlName="address" />
              <!-- <label class="text-danger" *ngIf="service.formModel.get('address').touched && service.formModel.get('address').errors?.required"> Name is required. </label> -->
          </div>

          <div class="col-sm-3 col-xs-3">
            <label> City: <span style="color: red;">*</span></label>
          </div>
          <div class="col-sm-9 col-xs-9 mr-b-20">
              <input type="text" class="form-control" placeholder="City" formControlName="city" />
              <!-- <label class="text-danger" *ngIf="service.formModel.get('city').touched && service.formModel.get('city').errors?.required"> DOB is required. </label> -->
          </div>

          <div class="col-sm-3 col-xs-3">
            <label> Pin Code: <span style="color: red;">*</span></label>
          </div>
          <div class="col-sm-9 col-xs-9 mr-b-20">
              <input type="text" class="form-control" placeholder="Pin Code" formControlName="pincode" />
              <!-- <label class="text-danger" *ngIf="service.formModel.get('pincode').touched && service.formModel.get('pincode').errors?.required"> DOB is required. </label> -->
          </div>
            
          </div>
        </div>
  
        <div class="modal-footer">
          <ion-button type="button" (click)="resetDonorForm()"> Reset </ion-button>
          <ion-button type="submit" [disabled]="!service.donorModel.valid"> Submit </ion-button>
        </div>
      </div>
    </form>
    </div>
  </div> 
  <!------------------------------- Donor Add Modal Close ----------------------------------->


</ion-content>
